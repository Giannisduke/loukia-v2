jQuery(document).ready(function(a){"use strict";var b=a(wc_additional_variation_images_local.gallery_images_class).html(),c=a(wc_additional_variation_images_local.main_images_class).html();a.wc_additional_variation_images_frontend={getAjaxURL:function(a){return wc_additional_variation_images_local.ajax_url.toString().replace("%%endpoint%%","wc_additional_variation_images_"+a)},isCloudZoom:function(){var b=a("a.woocommerce-main-image").hasClass("cloud-zoom");return b},runLightBox:function(d){a("form.variations_form").trigger("wc_additional_variation_images_frontend_lightbox",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c),a.wc_additional_variation_images_frontend.isCloudZoom()?(a(".cloud-zoom").each(function(){a(this).data("zoom").destroy()}),a(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()):a.isFunction(a.fn.prettyPhoto)&&a(wc_additional_variation_images_local.lightbox_images).prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),a("form.variations_form").trigger("wc_additional_variation_images_frontend_lightbox_done",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),d&&d()},reset:function(d){if(1==wc_additional_variation_images_local.custom_reset_swap){var e="";a("form.variations_form").trigger("wc_additional_variation_images_frontend_on_reset",[e,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c])}else a(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){a(this).html(b).hide().fadeIn(100,function(){a.wc_additional_variation_images_frontend.runLightBox()})});a("form.variations_form").trigger("wc_additional_variation_images_frontend_on_reset_done",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.initProductGallery(),d&&d()},imageSwap:function(d,e){if(1==wc_additional_variation_images_local.custom_swap)a("form.variations_form").trigger("wc_additional_variation_images_frontend_image_swap_callback",[d,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]);else if(wc_additional_variation_images_local.bwc)a(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){a(this).html(d.gallery_images).hide().fadeIn(100,function(){a.wc_additional_variation_images_frontend.runLightBox()})});else{var f=a(wc_additional_variation_images_local.main_images_class).parent(),g=a(".woocommerce-product-gallery__image").outerWidth(),h=a(".woocommerce-product-gallery__image").outerHeight();a(wc_additional_variation_images_local.main_images_class).remove(),a.when(f.prepend(d.main_images)).then(function(){a(".woocommerce-product-gallery__image").width(g).height(h),a(".woocommerce-product-gallery__wrapper").width(g).height(h)})}a("form.variations_form").trigger("wc_additional_variation_images_frontend_image_swap_done_callback",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.initProductGallery(),e&&e()},imageSwapOriginal:function(d){if(1==wc_additional_variation_images_local.custom_original_swap){var e="";a("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_default_image_swap_callback",[e,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c])}else a(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){a(this).html(b).hide().fadeIn(100,function(){a.wc_additional_variation_images_frontend.runLightBox()})});a("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_default_image_swap_done_callback",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.initProductGallery(),d&&d()},hideGallery:function(){a(wc_additional_variation_images_local.gallery_images_class).hide().css("visibility","hidden")},showGallery:function(){a(wc_additional_variation_images_local.gallery_images_class).css("visibility","visible").fadeIn("fast")},initProductGallery:function(){a(".woocommerce-product-gallery").each(function(){a(this).wc_product_gallery()})},getImages:function(b){return a.ajax({type:"POST",data:b,url:a.wc_additional_variation_images_frontend.getAjaxURL("get_images")})},init:function(){wc_additional_variation_images_local.bwc||a("form.variations_form").on("reset_image",function(d,e){a("form.variations_form").trigger("wc_additional_variation_images_frontend_reset_variation"),a(wc_additional_variation_images_local.gallery_images_class).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var f={security:wc_additional_variation_images_local.ajaxImageSwapNonce,post_id:a("form.variations_form").data("product_id")};a.when(a.wc_additional_variation_images_frontend.getImages(f)).then(function(d){d?(a("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[d,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.imageSwap(d)):(a("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[d,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.imageSwapOriginal()),a(wc_additional_variation_images_local.gallery_images_class).unblock()})}),a("form.variations_form").on("show_variation",function(d,e){a("form.variations_form").trigger("wc_additional_variation_images_frontend_before_show_variation"),a(wc_additional_variation_images_local.gallery_images_class).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var f={security:wc_additional_variation_images_local.ajaxImageSwapNonce,variation_id:e.variation_id,post_id:a("form.variations_form").data("product_id")};a.when(a.wc_additional_variation_images_frontend.getImages(f)).then(function(d){d?(a("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[d,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.imageSwap(d)):(a("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[d,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c]),a.wc_additional_variation_images_frontend.imageSwapOriginal()),a(wc_additional_variation_images_local.gallery_images_class).unblock()})}),a("form.variations_form").on("click",".reset_variations",function(){a.wc_additional_variation_images_frontend.reset()}),a("form.variations_form").on("reset_image",function(){a.wc_additional_variation_images_frontend.reset()}),a("#variations_clear").on("click",function(){a.wc_additional_variation_images_frontend.reset()}),a(".swatch-anchor").on("click",function(){var b=a(this).parent(".select-option");b.hasClass("selected")&&a.wc_additional_variation_images_frontend.reset()}),a("form.variations_form").trigger("wc_additional_variation_images_frontend_init",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,b,c])}},a.wc_additional_variation_images_frontend.init()});